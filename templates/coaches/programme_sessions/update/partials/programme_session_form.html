{% load i18n %}
<div class="tile is-ancestor">
    <div class="tile is-parent is-vertical">
        <div class="tile is-child card">
            <header class="card-header">
                <p class="card-header-title is-centered">{% translate "Programme Details" %}</p>
            </header>
            <div id="#indicator-programme-{{ programme.pk }}" class="htmx-indicator">
                <progress class="progress is-small is-info" max="100"></progress>
            </div>
            <div class="card-content">
                <form method="post"
                    hx-post="{{ programme.get_hx_edit_url }}"
                    hx-swap="outerHTML"
                    hx-trigger="change"
                    hx-indicator="#indicator-programme-{{ programme.pk }}">
                    {% csrf_token %}
                    {% for field in form %}
                        <div class="field">
                            <div class="label">{{ field.label }}</div>
                            {% if field.name == "session_type" %}
                                <p class="control select is-small">{{ field }}</p>
                            {% else %}
                                <p class="control">{{ field }}</p>
                            {% endif %}
                        </div>
                    {% endfor %}
                </form>
            </div>
        </div>
        {% for key, value in formset.items %}
            {% include "coaches/programme_sessions/update/partials/exercise_form.html" with form=key.0 exercise=key.1 exercise_sets=value %}
        {% endfor %}
    </div>
</div>
